<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ball and Spring Toy: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="sagedoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Ball and Spring Toy
   </div>
   <div id="projectbrief">Game Physics with Bespoke Code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="contents">
<div class="textblock"><p><a class="anchor" id="section1"></a></p><h1>1. Introduction</h1>
<p><a class="anchor" id="fig1"></a></p><div class="image">
<img src="all.gif" alt=""/>
<div class="caption">
Fig. 1: Screen shot of bodies made up from springs and sticks.</div></div>
<p>The Ball and Spring Toy applies Verlet integration and Gauss-Seidel Relaxation to bodies made up of balls connected by springs and sticks. The bodies fall under gravity and you can apply a random impulse to them to see how they react The types of bodies available are chains of length 2, 3, and 4; wheels of size 4, 5, and 6; and a ragdoll robot (see <a class="el" href="#fig1">Fig. 1</a>). For each body type except the ragdoll robot you are given two bodies, one with springs and one with sticks. The ragdoll robot has some primitive AI that attempts to make it stand up and move to the center of the window.</p>
<p>The remainder of this page is divided into five sections. <a class="el" href="#section2">Section 2</a> lists the controls and their corresponding actions, <a class="el" href="#section3">Section 3</a> tells you how to build it, <a class="el" href="#section4">Section 4</a> gives you a list of actions to take in the game to see some of its important features, <a class="el" href="#section5">Section 5</a> gives a breakdown of the code, and <a class="el" href="#section6">Section 6</a> addresses the question "what next?".</p>
<p><a class="anchor" id="section2"></a></p><h1>2. Controls</h1>
<center> <table class="doxtable">
<tr>
<td><center><b>Key</b></center> </td><td><center><b>Action</b></center> </td></tr>
<tr>
<td><center>F1</center> </td><td>Help (this document) </td></tr>
<tr>
<td><center>Backspace</center> </td><td>Restart with the current body type </td></tr>
<tr>
<td><center>Enter</center> </td><td>Advance to the next body type </td></tr>
<tr>
<td><center>Space</center> </td><td>Apply a random impulse </td></tr>
<tr>
<td><center>PrtScr (hold down)</center> </td><td>Save screenshot to a PNG file </td></tr>
<tr>
<td><center>Esc</center> </td><td>Quit game and close the window </td></tr>
</table>
</center><p><a class="anchor" id="section3"></a></p><h1>3. Building the Game</h1>
<p>This code uses <a href="../sage/index.html">SAGE</a>. Make sure that you have followed the <a href="../install/index.html">SAGE Installation Instructions</a>. Navigate to the folder <span style="background-color:#D8E4D8;"><code>5. Ball and Spring Toy</code></span> in your copy of the <span style="background-color:#D8E4D8;"><code>sage-physics</code></span> repository. Run <span style="background-color:#D8E4D8;"><code>checkenv.bat</code></span> to verify that you have set the environment variables correctly. Open <span style="background-color:#D8E4D8;"><code>Ball and Spring Toy.sln</code></span> with Visual Studio and build the Release configuration. The Release executable file <span style="background-color:#D8E4D8;"><code>Ball and Spring Toy.exe</code></span> will appear. Alternatively, run <span style="background-color:#D8E4D8;"><code>Build.bat</code></span> to build both Release and Debug configurations.</p>
<p><a class="anchor" id="section4"></a></p><h1>4. Game Play</h1>
<p>As described in <a class="el" href="#section2">Section 2</a>, use the keyboard to select various bodies and watch how they respond to random impulses. Note that the bodies made from springs will deform when they hit the edges of the window but the bodies made from wood will not (see <a class="el" href="#fig2">Fig. 2</a> for an example). If you apply an impulse to the ragdoll robot and let it lie on the bottom of the window for a second or two as shown in <a class="el" href="#fig3">Fig. 3</a>, then it will attempt to self-right and move to the center of the window by applying impulses to parts of its body.</p>
<p><a class="anchor" id="fig2"></a></p><div class="image">
<img src="deform.png" alt="" width="50%"/>
<div class="caption">
Fig. 2: Deformation of bodies with springs.</div></div>
<p><a class="anchor" id="fig3"></a></p><div class="image">
<img src="robot.png" alt="" width="50%"/>
<div class="caption">
Fig. 3: The robot at rest.</div></div>
<p><a class="anchor" id="section5"></a></p><h1>5. Code Breakdown</h1>
<p>UNDER CONSTRUCTION</p>
<p><a class="anchor" id="section5-1"></a></p><h2>5.1 Verlet Integration</h2>
<p><a class="anchor" id="fig4"></a></p><div class="image">
<img src="verlet.png" alt="" width="55%"/>
<div class="caption">
Fig. 4: Verlet integration.</div></div>
<p><a class="anchor" id="section5-2"></a></p><h2>5.2 Jacobi-Gauss-Seidel Integration</h2>
<p><a class="anchor" id="fig5"></a></p><div class="image">
<img src="stick0.png" alt="" width="25%"/>
<div class="caption">
Fig. 5: A stick represented by two points.</div></div>
<p><a class="anchor" id="fig6"></a></p><div class="image">
<img src="stick1.png" alt="" width="25%"/>
<div class="caption">
Fig. 6: A deformed stick.</div></div>
<p><a class="anchor" id="fig7"></a></p><div class="image">
<img src="2stick0.png" alt="" width="25%"/>
<div class="caption">
Fig. 7: Two joined sticks with three points.</div></div>
<p><a class="anchor" id="fig8"></a></p><div class="image">
<img src="2stick1.png" alt="" width="25%"/>
<div class="caption">
Fig. 8: Two deformed joined sticks.</div></div>
<p><a class="anchor" id="fig9"></a></p><div class="image">
<img src="2stick2.png" alt="" width="35%"/>
<div class="caption">
Fig. 9: Attempt to repair deformed joined sticks.</div></div>
<p><a class="anchor" id="section5-3"></a></p><h2>5.3 Code Organization</h2>
<p><a class="anchor" id="fig10"></a></p><div class="image">
<img src="block0.png" alt="" width="40%"/>
<div class="caption">
Fig. 10: Block diagram for object manager, springs, and points.</div></div>
<p><a class="anchor" id="fig11"></a></p><div class="image">
<img src="block1.png" alt="" width="40%"/>
<div class="caption">
Fig. 11: Block diagram for bodies, springs, and points.</div></div>
<p><a class="anchor" id="section5-4"></a></p><h2>5.4 Bodies</h2>
<p><a class="anchor" id="section5-4-1"></a></p><h3>5.4.1 Chains</h3>
<p><a class="anchor" id="fig12"></a></p><div class="image">
<img src="chain.png" alt="" width="50%"/>
<div class="caption">
Fig. 12: A chain made of sticks (left) and springs (right).</div></div>
<p><a class="anchor" id="section5-4-2"></a></p><h3>5.4.2 Wheels</h3>
<p><a class="anchor" id="fig13"></a></p><div class="image">
<img src="wheel.png" alt="" width="40%"/>
<div class="caption">
Fig. 12: A wheel made of sticks (left) and springs (right).</div></div>
<p><a class="anchor" id="section5-4-3"></a></p><h3>5.4.3 Ragdoll Robot</h3>
<p><a class="anchor" id="fig14"></a></p><div class="image">
<img src="robot0.png" alt="" width="15%"/>
<div class="caption">
Fig. 13: Woody the ragdoll robot.</div></div>
<p><a class="anchor" id="fig15"></a></p><div class="image">
<img src="robot-deform.png" alt="" width="60%"/>
<div class="caption">
Fig. 15: Woody the ragdoll robot under deformation.</div></div>
<p><a class="anchor" id="fig16"></a></p><div class="image">
<img src="robopoint.png" alt="" width="35%"/>
<div class="caption">
Fig. 16: Points that make up Woody the ragdoll robot.</div></div>
<p><a class="anchor" id="fig17"></a></p><div class="image">
<img src="roboconstraint.png" alt="" width="45%"/>
<div class="caption">
Fig. 17: Sticks (left) and springs (right) that make up Woody the ragdoll robot.</div></div>
<p><a class="anchor" id="section6"></a></p><h1>6. What Next?</h1>
<p>Next, take a look at the <a href="../box2drender/index.html">Box2D Render Library</a>. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"/>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
