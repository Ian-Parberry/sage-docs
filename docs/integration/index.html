<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Euler Integration: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="sagedoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="sage-physics.png"/></td>
  <td id="projectalign">
   <div id="projectname">Euler Integration
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="contents">
<div class="textblock"><p>Computer animation is a matter of composing and showing a series of images called <em>frames</em> as fast as the hardware can compute and display them. For each animation frame we must move the objects according to their velocity, acceleration, and the time since the last frame was shown. If the frames are rendered fast enough, then the human visual system interprets this as smooth motion.</p>
<p><a class="anchor" id="fig1"></a></p><div class="image">
<img src="fast.gif" alt=""/>
<div class="caption">
Fig. 1. Gif animation at full speed.</div></div>
<p>For example, <a class="el" href="#fig1">Fig. 1</a> is an animated gif shown at full speed that appears to show a smoothly bouncing cannonball. It is actually made up to 10 individual frames, each showing the cannonball in a different place.</p>
<p><a class="anchor" id="fig2"></a></p><div class="image">
<img src="slow.gif" alt=""/>
<div class="caption">
Fig. 2. Gif animation slowed down.</div></div>
<p><a class="el" href="#fig2">Fig. 2</a> shows the animation from <a class="el" href="#fig1">Fig. 1</a> slowed down so that you can see the individual frames. <a class="el" href="#fig3">Fig. 3</a> shows the individual frames side-by-side (of course, this forms a parabola).</p>
<p><a class="anchor" id="fig3"></a></p><div class="image">
<img src="frames.png" alt="" width="50%"/>
<div class="caption">
Fig. 3. Gif animation individual frames.</div></div>
<p><a class="el" href="#fig4">Fig. 4</a> shows a time line in which each numbered tick mark shows the time at which a new animation frame is rendered to the screen. The time between tick marks is used to compute where the objects will be when the next frame is rendered. The time marked "Now" with a red arrow is the current time, when frame \(i\) has been rendered and we need to compose frame \(i+1\). We will have stored the acceleration \(\vec{a}_i\), velocity \(\vec{v}_i\), and position \(\vec{s}_i\), from the previous frame, and we can guess that \(\Delta t\), the time between frames, will be the same as the previous frame. Lets assume that the acceleration remains constant. Then we can compute \(\vec{s}_{i+1} = vec{s}_i \Delta t\) and \(\vec{v}_{i+1} = vec{v}_i \Delta t\) ready for when the next frame must be rendered at time \(i+1\).</p>
<p><a class="anchor" id="fig4"></a></p><div class="image">
<img src="timeline.png" alt="" width="60%"/>
<div class="caption">
Fig. 4. Animation time line by frame.</div></div>
<p>Our game objects will typically be represented by a class called <code>CObject</code> which will have member variables for storing things such as the object's position, orientation, velocity, and sprite (in 2D) or mesh (in 3D). Suppose its position is stored in a member variable <code>m_vPos</code>, its velocity in a member variable <code>m_vVel</code>, and its acceleration in a member variable <code>m_vAccel</code>. Using <a href="../sage/index.html">SAGE</a> we can get the frame time and store it in a local floating point variable called <code>t</code>, say. <code>CObject</code> typically has a <code>Move</code> function similar to this: </p><pre class="fragment">void CObject::Move(){
  m_vPos += m_vVel*t;
  m_vVel += m_vAccel*t;
} //Move
</pre><p>So why have we called this Euler Integration? What has integration got to do with it? Suppose we have an object that starts at rest, then falls under gravity for 30 seconds with a frame time of \(t=1\) second. Let \(s_i\) be the change in position in frame \(i\). Then its position after 30 seconds is    </p><p class="formulaDsp">
\[
s = \sum_{i=0}^{30} s_i = \sum_{i=0}^{30} v_i t =
 \sum_{i=0}^{30} 9.8i t.
\]
</p>
<p><a class="el" href="#fig5">Fig. 5</a> shows the change in position per frame. The horizontal axis shows the frame number, and the vertical axis shows the distance moved in that frame. Note that the distance moved per frame increases over time because its velocity is also changing over time because of acceleration due to gravity.</p>
<p><a class="anchor" id="fig5"></a></p><div class="image">
<img src="integrate.png" alt="" width="70%"/>
<div class="caption">
Fig. 5. Change in position per frame with 1 second frames.</div></div>
<p>The position of the object after 30 seconds is then the area in green in <a class="el" href="#fig5">Fig. 5</a>. If we decrease the frame time \(t\) and add more columns the graph will become more and more continuous. For example, <a class="el" href="#fig6">Fig. 6</a> uses a frame time of \(t=0.5\) and uses \(30/t = 60\) frames, so that    </p><p class="formulaDsp">
\[
s = \sum_{i=0}^{30/t} s_i = \sum_{i=0}^{30/t} v_i t 
= \sum_{i=0}^{30/t} 9.8i t.
\]
</p>
<p><a class="anchor" id="fig6"></a></p><div class="image">
<img src="integrate2.png" alt="" width="70%"/>
<div class="caption">
Fig. 6. Change in position per frame with 0.5 second frames.</div></div>
<p>The position of the object in the real world is the area shown in green in <a class="el" href="#fig7">Fig. 7</a>,   </p><p class="formulaDsp">
\[
s = \lim_{t\to 0} \sum_{i=0}^{30/t} 9.8 it = \int_{0}^{30} 9.8t \,dt.
\]
</p>
<p><a class="anchor" id="fig7"></a></p><div class="image">
<img src="integrate3.png" alt="" width="70%"/>
<div class="caption">
Fig. 7. Change in position per frame with frame time approaching zero.</div></div>
<p>Since the indefinite integral   </p><p class="formulaDsp">
\[
\int 9.8t \,dt = 4.5 t^2 + c
\]
</p>
<p> this tells us that the final position of the object in the real world is \(4.5\times 30^2 = 4050\). In contrast, the sum of the green areas in <a class="el" href="#fig5">Fig. 5</a> is \(4557\), and that of <a class="el" href="#fig6">Fig. 6</a> is \(4483.5\). This is not the same as the real world, but that doesn't matter. The effect of gravity in the game world doesn't have to be exactly the same as the effect in the real world. In fact, we usually and up tweaking the acceleration due to gravity from 9.8 m/sec/sec to whatever "looks right". </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
