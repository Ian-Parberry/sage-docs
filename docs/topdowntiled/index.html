<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Top-Down Tiled Game Prototype: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">The Top-Down Tiled Game Prototype
   </div>
   <div id="projectbrief">A Basic Tiled Top-Down Shooter</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="contents">
<div class="textblock"><p><a class="anchor" id="section1"></a></p><h1>1. Introduction</h1>
<p>This game is similar to the <a href="../topdown">Top Down Game</a> with the addition of a tiled background that is read from a text map, and multiple levels with multiple guards. <a class="el" href="index.html#fig1">Fig. 1</a> shows one of the levels.</p>
<p><a class="anchor" id="fig1"></a></p><div class="image">
<img src="screenshot.png" alt="" width="30%"/>
<div class="caption">
Fig. 1: A screenshot of the Top Down Tiled Game.</div></div>
<p>The remainder of this page is divided into four sections. <a class="el" href="index.html#sec2">Section 2</a> lists the controls and their corresponding actions, <a class="el" href="index.html#sec3">Section 3</a> tells you how to build it, <a class="el" href="index.html#sec4">Section 4</a> gives you a list of actions to take in the game to see some of its important features, <a class="el" href="index.html#sec5">Section 5</a> gives a breakdown of the code, and <a class="el" href="index.html#sec6">Section 6</a> addresses the question "what next?".</p>
<p><a class="anchor" id="sec2"></a></p><h1>2. Controls</h1>
<center> <table class="doxtable">
<tr>
<td><center><b>Keyboard</b></center> </td><td><center><b>Controller</b></center> </td><td><center><b>Mouse</b></center> </td><td><center><b>Action</b></center> </td></tr>
<tr>
<td><center>F1</center> </td><td><center>-</center> </td><td><center>-</center> </td><td>Help (this document) </td></tr>
<tr>
<td><center>F2</center> </td><td><center>-</center> </td><td><center>-</center> </td><td>Toggle frame rate display </td></tr>
<tr>
<td><center>F3</center> </td><td><center>-</center> </td><td><center>-</center> </td><td>Toggle show bounds </td></tr>
<tr>
<td><center>F4</center> </td><td><center>-</center> </td><td><center>-</center> </td><td>Toggle show NPC state </td></tr>
<tr>
<td><center>-</center> </td><td>Right thumb </td><td>Move left* </td><td>Rotate counterclockwise </td></tr>
<tr>
<td><center>-</center> </td><td>Right thumb </td><td>Move right* </td><td>Rotate clockwise </td></tr>
<tr>
<td><center>Space</center> </td><td>Right button </td><td>Left button </td><td>Shoot </td></tr>
<tr>
<td><center>A</center> </td><td>Digital pad left </td><td><center>-</center> </td><td>Strafe left </td></tr>
<tr>
<td><center>D</center> </td><td>Digital pad right </td><td><center>-</center> </td><td>Strafe right </td></tr>
<tr>
<td><center>G</center> </td><td><center>-</center> </td><td><center>-</center> </td><td>Toggle God mode </td></tr>
<tr>
<td><center>S</center> </td><td>Digital pad down </td><td><center>-</center> </td><td>Retreat </td></tr>
<tr>
<td><center>W</center> </td><td><center>-</center> </td><td>Right trigger </td><td>Move forwards </td></tr>
<tr>
<td><center>Backspace</center> </td><td><center>-</center> </td><td><center>-</center> </td><td>Restart game </td></tr>
<tr>
<td><center>PrtScr</center> </td><td><center>-</center> </td><td><center>-</center> </td><td>Save screenshot to a PNG file </td></tr>
<tr>
<td><center>Esc</center> </td><td><center>-</center> </td><td><center>-</center> </td><td>Exit </td></tr>
</table>
</center><p><code>*</code> Note that the mouse cursor must be inside the game window for player rotation to occur.</p>
<p><a class="anchor" id="sec3"></a></p><h1>3. Building the Game</h1>
<p>This code uses <a href="../sage/index.html">SAGE</a>. Make sure that you have followed the <a href="../install/index.html">SAGE Installation Instructions</a>. Navigate to the folder <span style="background-color:#D8E4D8;"><code>2. Top Down Tiled Game</code></span> in your copy of the <span style="background-color:#D8E4D8;"><code>sage-games</code></span> repository. Run <span style="background-color:#D8E4D8;"><code>checkenv.bat</code></span> to verify that you have set the environment variables correctly. Open <span style="background-color:#D8E4D8;"><code>Top Down Tiled Game.sln</code></span> with Visual Studio and build the Release configuration. The Release executable file <span style="background-color:#D8E4D8;"><code>Top Down Tiled Game.exe</code></span> will appear. Alternatively, run <span style="background-color:#D8E4D8;"><code>Build.bat</code></span> to build both Release and Debug configurations.</p>
<p><a class="anchor" id="sec4"></a></p><h1>4. Game Play</h1>
<p>Run <span style="background-color:#D8E4D8;"><code>Top Down Tiled Game.exe</code></span> and do the following:</p>
<p>UNDER CONSTRUCTION</p>
<p><a class="anchor" id="sec5"></a></p><h1>5. Code Breakdown</h1>
<p>Open <span style="background-color:#D8E4D8;"><code>Top Down Tiled Game.sln</code></span> in Visual Studio and examine the code in the editor while you read the rest of this section. This section assumes that you have read and understood the documentation from <a href="../sage/index.html">SAGE</a>, <a href="../blank/index.html">The Blank Game</a>, and <a href="../topdown/index.html">The Top Down Game</a>.</p>
<p>Changes from <a href="../topdown/index.html">The Top Down Game</a> include ...</p>
<p><a class="anchor" id="sec5-1"></a></p><h2>5.1 The Tile Manager</h2>
<p>The tile manager <code><a class="el" href="class_c_tile_manager.html" title="Tile manager.">CTileManager</a></code> is declared in <code><a class="el" href="_tile_manager_8h.html" title="Interface for the tile manager CTileManager.">TileManager.h</a></code> and defined in <code><a class="el" href="_tile_manager_8cpp.html" title="Code for the tile manager CTileManager.">TileManager.cpp</a></code>. It is derived from <a href="../docs/sage/class_sage_1_1_c_settings.html"><code>Sage::CSettings</code></a> and <code><a class="el" href="class_c_common.html" title="The common variables class.">CCommon</a></code>. The tile manager's responsibilities include reading the current level from a text file in <span style="background-color:#D8E4D8;"><code>Media\Maps</code></span> and interpreting it to <code><a class="el" href="class_c_game.html" title="The game class.">CGame</a></code> to specify the background image and initial object positions.</p>
<p>The tile manager header file <code><a class="el" href="_tile_manager_8h.html" title="Interface for the tile manager CTileManager.">TileManager.h</a></code> also includes the a declaration for an <em>object descriptor</em> <code><a class="el" href="class_c_object_desc.html" title="Object descriptor.">CObjectDesc</a></code> that will be used to encapsulate properties of a game object interpreted from the map file for transfer to the object manager.</p>
<p><a class="anchor" id="sec5-1-1"></a></p><h2>5.1.1 Map File Format</h2>
<p>The map files consist of upper and lower case letters in which each letter represents a background tile and/or the initial placement for a game object, and each line represents a row of tiles and/or objects. The letters are interpreted as follows. <code>W</code> represents a wall tile. <code>F</code> represents a floor tile. Upper case characters <code>U</code>, <code>D</code>, <code>L</code>, or <code>R</code> represent the player character oriented with its gun pointing up, down, left, or right, respectively. There should be only one of these in the file. Lower case characters <code>u</code>, <code>d</code>, <code>l</code>, or <code>r</code> represent a guard character oriented with its gun pointing up, down, left, or right, respectively. There may be more than one of these in the file. The player and guard characters are assumed to be on a floor tile. For example, the file <span style="background-color:#D8E4D8;"><code>Media\Maps\small.txt</code></span> contains the specification for the map shown in <a class="el" href="index.html#fig1">Fig. 1</a>, as follows: </p><pre class="fragment">WWWWWWWWWWWWWWWW
WFFFFFFWFFFFFFFW
WFFFFFFWFFFFFdFW
WFFFFFFFFFFFFFFW
WFFFFFFFFFFFFFFW
WFFFFFFWFFFFFFFW
WFFFFFFWFFFFFFFW
WWWFFWWWWWWWFFFW
WFFFFFFFFFFWFFFW
WFFFFFFFFFFWFFFW
WFFFFFFFFFFWFFFW
WFFFFFFFFFFWFFFW
WFFFFFFFFFFWFFFW
WFFFUFFFFFFFFFFW
WFFFFFFFFFFFFFFW
WWWWWWWWWWWWWWWW
</pre><p><a class="anchor" id="sec6"></a></p><h1>6. What Next?</h1>
<p>Next, take a look at the <a href="../platformer/index.html">Tiled Platformer</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
