<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SAGE Physics Installation Guide: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="sagedoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="sage-physics.png"/></td>
  <td id="projectalign">
   <div id="projectname">SAGE Physics Installation Guide
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="contents">
<div class="textblock"><p><a class="anchor" id="preamble"></a> Some of the <a href="../introphysics/index.html">SAGE Physics Games</a> require an open-source physics library, <a class="el" href="index.html#box2d">Box2D</a> for 2D physics games and <a class="el" href="index.html#bullet">Bullet Physics</a> for 3D physics games. Before we begin, make sure that you have followed the instructions for <a href="../install/index.html">installing SAGE</a>.</p>
<p><a class="anchor" id="box2d"></a></p><h1>1. Box2D</h1>
<p>Some SAGE physics games require that you install a 2D physics engine called Box2D. First you must install <code>CMake</code> from <a href="https://cmake.org/">https://cmake.org/</a>. Make sure that you click the "Add CMake to the system PATH for the current user" radio button on the <code>CMake</code> Install Options dialog box when it appears. Then clone or download the source code for Box2D from <a href="https://github.com/erincatto/Box2D">https://github.com/erincatto/Box2D</a>. Run <code>Build.bat</code>, which will open <code>Box2D.sln</code> in Visual Studio. Build it in both Debug and Release configurations for the <code>x64</code> platform. Finally, create an environment variable <code>BOX2D_DIR</code> and set it to folder into which you cloned or downloaded Box2D. Mine is set to <code>C:\Users\ian\Documents\GitHub\Box2D\</code>.</p>
<p><a class="anchor" id="bullet"></a></p><h1>2. Bullet Physics</h1>
<p>Some SAGE physics games require that you install a 3D physics engine called Bullet Physics. Clone or download the source code for Bullet Physics from <a href="https://github.com/bullet3/bullet3">https://github.com/bullet3/bullet3</a>. Run <code>build_visual_studio_vr_pybullet_double.bat</code>. This will create <code>0_Bullet3Solution.sln</code>, which is a solution file for an older version of Visual Studio. Open <code>0_Bullet3Solution.sln</code> in Visual Studio. It will ask you to retarget all of the projects in the solution. Click OK.</p>
<p>In the Visual Studio Solution Explorer, select the projects <code>BulletCollision</code>, <code>BulletDynamics</code>, and <code>LinearMath</code>. Right-click on one of them and select Properties. We have to change some settings to make it compatible with the rest of our code before we build it. Firstly we need to change the precision from <code>double</code> to <code>float</code>. In the Property pages (see <a class="el" href="index.html#fig2">Fig. 2</a>) for <code>All Configurations</code> of the platform <code>x64</code> select <code>C/C++</code> then <code>Preprocessor</code> in the left pane and <code>Preprocessor Definitions</code> in the right pane. Delete the string <code>BT_USE_DOUBLE_PRECISION;</code> and click OK. This is shown in <a class="el" href="index.html#fig2">Fig. 2</a>.</p>
<p><a class="anchor" id="fig2"></a></p><div class="image">
<img src="bulletfloat.png" alt="" width="60%"/>
<div class="caption">
Fig 2. Bullet preprocessor definitions.</div></div>
<p>Secondly, we need to change the run-time library to <code>Multi-threaded DLL</code>. This is done as follows. On the same page as above, select the Release configuration of the platform <code>x64</code>. Next, select <code>C/C++</code> then <code>Code Generation</code> in the left pane and <code>Runtime Library</code> in the right pane. Select <code>Multi-threaded DLL (/MD)</code> from the drop-down menu beside it. This is shown in <a class="el" href="index.html#fig3">Fig. 3</a>. Do the same for the Debug configuration of the platform <code>x64</code>, but in this case select <code>Multi-threaded Debug DLL (/MDd)</code> from the drop-down menu.</p>
<p><a class="anchor" id="fig3"></a></p><div class="image">
<img src="bulletmtr.png" alt="" width="60%"/>
<div class="caption">
Fig 3. Bullet runtime library.</div></div>
<p>Build the three projects mentioned above in both Debug and Release configurations for the <code>x64</code> platform. Finally, create an environment variable <code>BULLET_DIR</code> and set it to folder into which you cloned or downloaded Bullet Physics. Mine is set to <code>C:\Users\ian\Documents\GitHub\bullet3\</code>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
